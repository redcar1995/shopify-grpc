package(
    default_testonly = True,
    default_visibility = ["//visibility:public"],
)

GRPCIO_PY3_ONLY_UNIT_TESTS = [
    "_simple_stubs_test.py",
]

[
    py_test(
        name = test_file_name[:-len(".py")],
        size = "small",
        srcs = [test_file_name],
        imports = [".."],
        main = test_file_name,
        python_version = "PY3",
        srcs_version = "PY3",
        deps = [
            "//src/python/grpcio/grpc:grpcio",
            "//src/python/grpcio_tests/tests/testing",
            "//src/python/grpcio_tests/tests/unit:resources",
            "//src/python/grpcio_tests/tests/unit:test_common",
            "//src/python/grpcio_tests/tests/unit/framework/common",
            "@six",
        ],
    )
    for test_file_name in GRPCIO_PY3_ONLY_UNIT_TESTS
]
