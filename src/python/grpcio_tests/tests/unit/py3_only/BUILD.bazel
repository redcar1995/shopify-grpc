package(
  default_visibility = ["//visibility:public"],
  default_testonly = True,
)

GRPCIO_PY3_ONLY_UNIT_TESTS = [
    "_simple_stubs_test.py",
]

[
  py_test(
    name = test_file_name[:-len(".py")],
    size = "small",
    python_version = "PY3",
    srcs_version = "PY3",
    srcs = [test_file_name],
    main = test_file_name,
    deps = [
        "//src/python/grpcio_tests/tests/unit:resources",
        "//src/python/grpcio_tests/tests/unit:test_common",
        "//src/python/grpcio/grpc:grpcio",
        "//src/python/grpcio_tests/tests/testing",
        "//src/python/grpcio_tests/tests/unit/framework/common",
        "@six",
    ],
    imports = [".."],
  ) for test_file_name in GRPCIO_PY3_ONLY_UNIT_TESTS
]
